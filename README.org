* ytel-show
  A package that lets you view video information from [[https://github.com/gRastello/ytel][ytel]].

  [[./ytel-show-screenshot.png]]

* Easy setup
  ~(define-key ytel-mode-map (kbd "RET") #'ytel-show)~

  *OR*

  #+begin_src emacs-lisp
    (use-package ytel-show
      :after ytel
      :bind (:map ytel-mode-map ("RET" . ytel-show)))
  #+end_src

* Usage
  - /n|p/ :: switch videos
  - /G/ :: to recache video information

* Customization
  Default buffer name: ~ytel-show-default-buffer-name~.

  Thumbnail sizes: ~ytel-show-image-max-width~, ~ytel-show-image-max-height~

  Faces: ~ytel-show-video-likes-face~, ~ytel-show-author-subs-face~

* Extensibility
  You can easily extend this package for showing videos from other places.  Just
  give ~ytel-show~ function a ~buffer~ argument and your vector of ~video-ids~
  and your videos will be displayed.

* Note
  Viewed videos are set with ~ytel-show~ command.  In order to go to next videos
  page, you should first switch page in *ytel* buffer and then call ~ytel-show~
  again.

* Caveats
  Sometimes json-reader will fail to parse a response from invidious instance or
  the connection will timeout.  You will see an almost empty buffer.  Usually,
  hitting the /G/ (~ytel-show-reload-video-data~) key a couple of times helps.
  Currently, I don't have a solution for this.

* Bugs
  If you find bugs, please, report it by writing an issue or send a PR.

* Todo [11/12]
  - [ ] youtube comments
  - [X] test more and run flycheck
  - [X] add fancy graphics and styles with faces (update screenshot)
  - [X] better thumbnail selection [4/4] ::
    - [X] If image url is 404, retry with another url

    - [X] Sometimes thumbnails are empty (nil).  During updates, if the returned
      thumbnail is nil, and there is already a cached thumbnail, dont update.

    - [X] Sometimes, the author's thumbnail will be with a double-slash prefix.
      Maybe I should simply detect such thumbnails and prepend https: to them.

    - [X] Sometimes, urls are prefixed with single-slash. These are probably
      should be prefixed with https://i.ytimg.com
  - [X] improve readme (describe caveats and add screenshot, dependencies, bugreports)
  - [X] `ytel-show` should take a buffer name (describe this in docs)
  - [X] check `ytel-show` errors
  - [X] add autoloads
  - [X] write documentation
  - [X] add custom variables
  - [X] add log messages
  - [X] add includes
